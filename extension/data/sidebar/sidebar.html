<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />

<script type="text/javascript" src="../jquery.js"></script>
<script type="text/javascript" src="../jquery-settings.js"></script>

<!-- dependencies for rdfquery -->
<script type="text/javascript" src="../rdfquery/jquery.json.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.uri.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.xmlns.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.curie.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.datatype.js"></script>

<!-- rdfquery -->
<script type="text/javascript" src="../rdfquery/jquery.rdf.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.rdfa.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.rules.js"></script>

<!-- parsers for export actions -->
<script type="text/javascript" src="../rdfquery/jquery.rdf.json.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.rdf.xml.js"></script>
<script type="text/javascript" src="../rdfquery/jquery.rdf.turtle.js"></script>

<!-- -->
<script src="js/bootstrap.min.js"></script>
<script src="js/docs.min.js"></script>

<!-- -->
<script type="text/javascript" src="sidebar.js"></script>
<script type="text/javascript" src="ontology.js"></script>

<!-- -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/bootstrap-theme.min.css" rel="stylesheet">
<link href="sidebar.css" rel="stylesheet" type="text/css">

<script type="text/javascript">

function menuClick(selected, event) {
  console.log('trace - menuClick('+selected+', '+event+') - start');
  event.preventDefault();
  hideAll();
  show(selected);
};

function show(id) {
  $('#content #'+id).removeClass('hidden');
  $('#menu_'+id).addClass('current');
};

function hideAll() {
  $('#menu').children().removeClass('current');
  $('#content').children().addClass('hidden');
};

function startSelection() {
  //TODO this should start aardvark on current tab
  addon.port.emit('start-selection');
};

$(function() {
  console.log('attaching click event');
  $('nav a').click(function(event){
    var selected = $(this).attr('data-menu-target');
    console.log('clicked selected: ' + selected);
    menuClick(selected, event.originalEvent);

    var $this         = $(this)
    var $parent       = $this.parent();
    var relatedTarget = { relatedTarget: this }

    if (!$parent.hasClass('open')) return

    $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

    if (e.isDefaultPrevented()) return

    $this.attr('aria-expanded', 'false')
    $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)
  });
});

</script>

</head>
<body role="document">
  <div>
    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
          <a href="#" class="blog-nav-item" data-menu-target="scenario">scenario</a>
          <a href="#" class="blog-nav-item" data-menu-target="ontology">ontology</a>
        </nav>
      </div>
    </div>

    <div id="content" class="container" role="main">
      <!-- SCENARIO -->
      <div id="scenario" class="hidden">
        <button id="start_selection" onclick="startSelection();" label="Start selection" />

      </div>
      <!-- ONTOLOGY -->
      <div id="ontology">
        <div id="ontology_load_area">
      
          Drop file or URL here...
      
        </div>
      
        <!-- list all objects
             edit on click -->
        <!-- add button in the end -->
        <div class="list_container">
          <ul id="ontology_objects_list">
          </ul>
        </div>
      
      
        <!-- list all properties
             edit on click -->
        <!-- add button in the end -->
        <div class="list_container">
          <ul id="ontology_properties_list">
          </ul>
        </div>
      
      </div>
    </div>
  </div>

</body>
</html>
